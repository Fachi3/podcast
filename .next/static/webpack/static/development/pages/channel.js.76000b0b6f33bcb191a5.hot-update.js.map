{"version":3,"file":"static/webpack/static/development/pages/channel.js.76000b0b6f33bcb191a5.hot-update.js","sources":["webpack:///./pages/channel.js"],"sourcesContent":["import 'isomorphic-fetch'\nimport Link from 'next/link'\nimport Error from 'next/error'\nimport Layout from '../components/Layout'\nimport ChannelGrid from '../components/ChannelGrid'\n\nexport default class extends React.Component{\n    \n    static async getInitialProps({query, res}){\n        try{\n            let idChannel = query.id\n\n            let [reqChannel, reqSeries, reqAudios] = await Promise.all([\n                fetch(`https://api.audioboom.com/channels/${idChannel}`),\n                fetch(`https://api.audioboom.com/channels/${idChannel}/child_channels`),\n                fetch(`https://api.audioboom.com/channels/${idChannel}/audio_clips`)\n            ])\n\n            let dataChannel = await reqChannel.json()\n            let channel = dataChannel.body.channel\n\n            let dataSeries = await reqSeries.json()\n            let series = dataSeries.body.channels\n\n            let dataAudios = await reqAudios.json()\n            let audioClips = dataAudios.body.audio_clips\n\n            return { channel, audioClips, series, statuCode:200 }\n        } catch(e){\n            return { channel: null, audioClips: null, series:null, statuCode:503 }\n        }\n    }\n\n    render(){\n        const {channel, audioClips, series, statusCode} = this.props\n        \n        console.log(statusCode)\n\n        // if(statusCode !== 200){\n        //     return <Error statusCode={statusCode} />\n        // }\n\n        return <Layout title={channel.title}>\n            <div className=\"banner\" style={{ backgroundImage: `url(${channel.urls.banner_image.original})` }} />\n\n            <h1>{ channel.title }</h1>\n\n            { series.length > 0 &&\n                <div>\n                    <h2>Series</h2>\n                    <ChannelGrid channels={ series } />\n                </div>\n            }\n\n            <style jsx>{`\n                .banner {\n                    width: 100%;\n                    padding-bottom: 25%;\n                    background-position: 50% 50%;\n                    background-size: cover;\n                    background-color: #aaa;\n                }\n                h1 {\n                    font-weight: 600;\n                    padding: 15px;\n                }\n                h2 {\n                    padding: 15px;\n                    font-size: 1.2em;\n                    font-weight: 600;\n                    margin: 0;\n                }\n            `}</style>\n\n            <style jsx global>{`\n                body {\n                    margin: 0;\n                    font-family: system-ui;\n                    background: white;\n                }\n            `}</style>\n        </Layout>\n    }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AA4BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwCA;;;;;;;;;;AA1EA;;AAEA;;AAEA;AACA;;;;AADA;AAAA;AAAA;;AAMA;AACA;;AADA;AACA;;AAEA;AACA;;AADA;AACA;;AAEA;AACA;;AADA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;AAxBA;AACA;;;;;A","sourceRoot":""}